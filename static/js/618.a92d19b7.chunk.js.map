{"version":3,"file":"static/js/618.a92d19b7.chunk.js","mappings":"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","sources":["../../../../src/core/types.ts","../../../../src/core/connection.ts","../../../../src/core/constants.ts","../../../../src/core/utils.ts","../../../src/connection-manager.ts","../../../../src/lib/guards.ts","../../../../src/core/nonce.ts","../../../../src/core/fractal-wallet-adapter-impl.ts","../../../../src/payloads/solana-wallet-adapter-approved.ts","../../../../src/payloads/message-signature-needed-response.ts","../../../../src/payloads/transaction-signature-needed-response.ts"],"names":["PopupEvent","Platform","Connection","constructor","validatedOrigin","targetWindow","handlers","Map","off","event","callback","eventCallbacks","get","delete","on","_a","Set","add","set","send","_ref","payload","postMessage","runHandlersForEvent","resetHandlers","clear","export","bind","DEFAULT_POPUP_WIDTH_PX","DEFAULT_POPUP_HEIGHT_PX","STATIC_POPUP_FEATURES","openPopup","left","scope","window","top","width","height","url","open","_ref2","concat","join","getPopupFeatures","ConnectionManager","platform","connection","popupWindow","handleMessage","e","origin","data","HANDSHAKE","verifyAndResetNonce","nonce","HANDSHAKE_ACK","_b","connectionUpdatedCallback","call","POPUP_CLOSED","resetConnection","initialize","addEventListener","tearDown","removeEventListener","widthPx","heightPx","closed","resetConnectionAndPopupWindow","screenX","innerWidth","screenY","innerHeight","undefined","Promise","setUrl","close","onConnectionUpdated","getConnection","location","uncheckedNonce","result","isObject","value","createNonce","randomString","Math","random","toString","substring","UNKNOWN_ERROR_MESSAGE","FRACTAL_DOMAIN_HTTPS","APPROVE_PAGE_URL","SIGN_PAGE_URL","SIGN_MESSAGE_PAGE_URL","MIN_POPUP_HEIGHT_PX","LOCAL_STORAGE_KEY_FOR_PUBLIC_KEY","FractalWalletAdapterImpl","popupManager","SOLANA_WALLET_ADAPTER","publicKey","connecting","getPublicKey","connect","resolve","reject","publicKeyInLocalStorage","localStorage","getItem","PublicKey","handleSolanaWalletAdapterApproved","solanaPublicKey","assertPayloadIsSolanaWalletAdapterApproved","WalletConnectionError","JSON","stringify","setItem","error","publicKeyError","WalletPublicKeyError","Error","message","handleExplicitDenialByUser","handleClosedByUser","SOLANA_WALLET_ADAPTER_APPROVED","SOLANA_WALLET_ADAPTER_DENIED","promiseResolver","promiseRejector","disconnect","removeItem","signTransaction","transaction","checkWalletReadiness","signTransactions","errorToThrow","WalletError","WalletSignTransactionError","signAllTransactions","transactions","signMessage","encodedMessage","decodedMessage","TextDecoder","decode","handleMessageSignatureNeededResponse","decodedSignature","assertPayloadIsMessageSignatureNeededResponsePayload","WalletSignMessageError","encodedSignature","Uint8Array","from","split","map","n","Number","handleClosedOrDeniedByUser","handleAuthLoaded","MESSAGE_SIGNATURE_NEEDED","max","floor","min","MESSAGE_SIGNATURE_NEEDED_RESPONSE","TRANSACTION_DENIED","AUTH_LOADED","handleTransactionSignatureNeededResponse","Array","isArray","signedB58Transactions","every","assertPayloadIsTransactionSignatureNeededResponsePayload","signedTransactions","signedB58Transaction","Transaction","base58","unsignedB58Transactions","t","serializeMessage","TRANSACTION_SIGNATURE_NEEDED","TRANSACTION_SIGNATURE_NEEDED_RESPONSE","WalletNotConnectedError"],"sourceRoot":""}